<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª â€” Ù†Ø³Ø®Ø© Ù…Ø·ÙˆØ±Ø©</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Cairo',Arial,sans-serif;background:#f9fafb;color:#111;overflow-x:hidden}
    header{background:linear-gradient(135deg,#1e3a8a,#3b82f6,#10b981);
      padding:1rem;display:flex;align-items:center;justify-content:space-between;
      position:sticky;top:0;z-index:100}
    .logo i{font-size:1.8rem;color:#fff;animation:rotate 4s linear infinite}
    @keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    nav{display:flex;gap:1rem}
    nav a{color:#fff;text-decoration:none;padding:.5rem 1rem;border-radius:10px}
    nav a:hover{background:rgba(255,255,255,.2)}
    .hamburger{display:none;color:#fff;font-size:1.4rem;cursor:pointer}

    .games{padding:1.5rem;min-height:calc(100vh - 64px)}
    .games h1{text-align:center;margin-bottom:1rem}
    .game-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}
    .game-card{background:linear-gradient(135deg,#3b82f6,#10b981);color:#fff;padding:1rem;border-radius:14px;cursor:pointer;text-align:center;transition:.3s}
    .game-card:hover{transform:translateY(-4px)}
    .game-card i{font-size:2.2rem;margin-bottom:.5rem}

    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:200;justify-content:center;align-items:center;padding:1rem}
    .modal.open{display:flex}
    .modal-content{background:#fff;max-width:750px;width:100%;border-radius:14px;padding:1rem;position:relative}
    .close-modal{position:absolute;top:.6rem;left:.7rem;font-size:1.4rem;cursor:pointer}

    .hud{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;justify-content:center}
    .chip{background:#f1f5f9;border:1px solid #e2e8f0;border-radius:10px;padding:.35rem .6rem;font-weight:bold}

    .question-box{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;margin:1rem 0;box-shadow:0 2px 6px rgba(0,0,0,.08)}
    .question-text{font-size:1.2rem;margin-bottom:.75rem;text-align:center}
    .answers{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:.6rem;margin-top:.75rem}
    .answers button{background:#fff;border:1px solid #d1d5db;border-radius:8px;padding:.6rem;cursor:pointer;transition:.3s}
    .answers button:hover{background:#3b82f6;color:#fff}

    .input-answer{display:flex;gap:.5rem;justify-content:center}
    .input-answer input{padding:.6rem;border:1px solid #d1d5db;border-radius:8px;width:150px;text-align:center}

    .level-select{display:flex;justify-content:center;gap:.5rem;margin:1rem 0}
    .level-select button{padding:.6rem 1rem;border:none;border-radius:10px;color:#fff;cursor:pointer}
    .easy{background:#10b981}.medium{background:#f59e0b}.hard{background:#ef4444}

     footer {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
            color: white;
            padding: 2rem;
            text-align: center;
            margin-top: 2rem;
        }
        footer .footer-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        footer .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        footer .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s;
        }
        footer .footer-links a:hover {
            color: #10b981;
        }
        footer .social-icons {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin: 1rem 0;
        }
        footer .social-icons a {
            color: white;
            font-size: 1.5rem;
            transition: color 0.3s;
        }
        footer .social-icons a:hover {
            color: #10b981;
        }
        footer p {
            font-size: 0.9rem;
            margin-top: 1rem;
        }
    @media (max-width:768px){
      nav{display:none}
      nav.active{display:flex;flex-direction:column;position:absolute;top:64px;left:0;background:#1e3a8a;width:100%;padding:1rem}
      .hamburger{display:block}
    }
     .back-button-container {
        text-align: center;
        margin: 2rem 0;
    }
    .back-button {
        background: #3b82f6;
        color: white;
        padding: 0.6rem 1.2rem;
        border-radius: 12px;
        cursor: pointer;
        font-family: 'Cairo', Arial, sans-serif;
        font-size: 1rem;
        border: none;
        transition: background 0.3s, transform 0.2s;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }
    .back-button:hover {
        background: #2563eb;
        transform: scale(1.05);
    }
    .dark-mode .back-button {
        background: #2563eb;
    }
    .dark-mode .back-button:hover {
        background: #1e3a8a;
    }
    @media (max-width: 480px) {
        .back-button {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo"><i class="fas fa-calculator"></i></div>
    <div class="hamburger"><i class="fas fa-bars"></i></div>
    <nav id="nav-menu">
      <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="tests.html">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
      <a href="game.html">Ø£Ù„Ø¹Ø§Ø¨ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</a>
      <a href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
    </nav>
  </header>

  <section class="games">
    <h1>ğŸ® Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù„Ù„Ø«Ø§Ù†ÙˆÙŠ</h1>
    <p style="text-align:center;margin:.5rem 0">Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø£ÙˆÙ„Ø§Ù‹:</p>
    <div class="level-select">
      <button class="easy" onclick="setLevel('easy')">Ø³Ù‡Ù„</button>
      <button class="medium" onclick="setLevel('medium')">Ù…ØªÙˆØ³Ø·</button>
      <button class="hard" onclick="setLevel('hard')">ØµØ¹Ø¨</button>
    </div>
    <div class="game-grid">
      <article class="game-card" data-game="algebra"><i class="fas fa-square-root-alt"></i><h3>Ø§Ù„Ø¬Ø¨Ø±</h3></article>
      <article class="game-card" data-game="geometry"><i class="fas fa-shapes"></i><h3>Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</h3></article>
      <article class="game-card" data-game="calculus"><i class="fas fa-infinity"></i><h3>Ø§Ù„ØªÙØ§Ø¶Ù„</h3></article>
      <article class="game-card" data-game="integration"><i class="fas fa-divide"></i><h3>Ø§Ù„ØªÙƒØ§Ù…Ù„</h3></article>
      <article class="game-card" data-game="probability"><i class="fas fa-dice"></i><h3>Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª</h3></article>
      <article class="game-card" data-game="trigonometry"><i class="fas fa-ruler-combined"></i><h3>Ø§Ù„Ù…Ø«Ù„Ø«Ø§Øª</h3></article>
      <article class="game-card" data-game="statistics"><i class="fas fa-chart-bar"></i><h3>Ø§Ù„Ø¥Ø­ØµØ§Ø¡</h3></article>
      <article class="game-card" data-game="marathon"><i class="fas fa-trophy"></i><h3>Ø§Ù„Ù…Ø§Ø±Ø§Ø«ÙˆÙ†</h3></article>
    </div>
  </section>

  <div class="modal" id="game-modal">
    <div class="modal-content">
      <span class="close-modal" id="close-modal">&times;</span>
      <div class="hud">
        <div class="chip">â³ <span id="time">--</span>s</div>
        <div class="chip">â­ <span id="points">0</span></div>
        <div class="chip">ğŸ“Š <span id="level">---</span></div>
      </div>
      <div id="game-area"></div>
    </div>
  </div>
   <div class="back-button-container">
    <button class="back-button" onclick="history.back()"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
</div>

<footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="tests.html">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
                <a href="game.html">Ø£Ù„Ø¹Ø§Ø¨ Ø±ÙŠØ§Ø¶ÙŠØ§Øª</a>
                <a href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
            </div>
            <div class="social-icons">
                <a href="https://www.youtube.com/@%D8%B3%D9%84%D8%B3%D9%84%D8%A9%D9%87%D9%86%D8%AF%D8%B3%D8%AA%D9%89-%D9%81%D9%89-%D8%A7%D9%84%D8%B1%D9%8A%D8%A7%D8%B6%D9%8A%D8%A7%D8%AA" target="_blank" aria-label="ÙŠÙˆØªÙŠÙˆØ¨"><i class="fab fa-youtube"></i></a>
                <a href="https://twitter.com" target="_blank" aria-label="ØªÙˆÙŠØªØ±"><i class="fab fa-twitter"></i></a>
                <a href="https://facebook.com" target="_blank" aria-label="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook"></i></a>
                <a href="https://wa.me/1234567890" target="_blank" aria-label="ÙˆØ§ØªØ³Ø§Ø¨"><i class="fab fa-whatsapp"></i></a>
            </div>
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025</p>
        </div>
    </footer>

  <script>
       // Ensure back button respects dark mode
    if (localStorage.getItem('darkMode') === 'true') {
        document.querySelector('.back-button').classList.add('dark-mode');
    }
    const $=s=>document.querySelector(s), $$=s=>document.querySelectorAll(s);
    const state={game:null,points:0,timer:null,timeLeft:15,level:"medium"};
    const levels={easy:{time:20,range:10},medium:{time:15,range:20},hard:{time:10,range:50}};
    function rng(min,max){return Math.floor(Math.random()*(max-min+1))+min}
    function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
    function setLevel(l){state.level=l;$('#level').textContent=l;alert("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø³ØªÙˆÙ‰: "+l)}
    function startTimer(nextQ){clearInterval(state.timer);state.timeLeft=levels[state.level].time;$('#time').textContent=state.timeLeft;state.timer=setInterval(()=>{state.timeLeft--;$('#time').textContent=state.timeLeft;if(state.timeLeft<=0){clearInterval(state.timer);nextQ();}},1000);}
    function correct(){state.points++;$('#points').textContent=state.points;}

    // Ø¬Ø¨Ø±
    function genAlgebra(nextQ){const r=levels[state.level].range;const a=rng(1,r),x=rng(1,r),b=rng(1,r),rhs=a*x+b;
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text">Ø­Ù„: ${a}x + ${b} = ${rhs}</div><div class="input-answer"><input id="ans"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if(+$('#ans').value===x){correct();}nextQ();};
    }
    // Ù‡Ù†Ø¯Ø³Ø©
    function genGeometry(nextQ){const qType=rng(1,3);let q,correctAns;
      if(qType===1){const a=rng(2,10),b=rng(2,10);q=`Ù…Ø³Ø§Ø­Ø© Ù…Ø³ØªØ·ÙŠÙ„ ${a} Ã— ${b} ØŸ`;correctAns=a*b;}
      if(qType===2){const b=rng(2,10),h=rng(2,10);q=`Ù…Ø³Ø§Ø­Ø© Ù…Ø«Ù„Ø« Ù‚Ø§Ø¹Ø¯ØªÙ‡ ${b} ÙˆØ§Ø±ØªÙØ§Ø¹Ù‡ ${h} ØŸ`;correctAns=0.5*b*h;}
      if(qType===3){const r=rng(2,10);q=`Ù…Ø³Ø§Ø­Ø© Ø¯Ø§Ø¦Ø±Ø© Ù†ØµÙ Ù‚Ø·Ø±Ù‡Ø§ ${r} (Ï€â‰ˆ3.14) ØŸ`;correctAns=(3.14*r*r).toFixed(1);}
      const opts=shuffle([correctAns,correctAns+2,correctAns-2]);
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text">${q}</div><div class="answers"></div></div>`;
      opts.forEach(o=>{const btn=document.createElement('button');btn.textContent=o;btn.onclick=()=>{if(o==correctAns)correct();nextQ();};$('#game-area .answers').appendChild(btn);});
    }
    // ØªÙØ§Ø¶Ù„
    function genCalculus(nextQ){const questions=[{q:"Ù…Ø´ØªÙ‚Ø© xÂ² =",a:"2x"},{q:"Ù…Ø´ØªÙ‚Ø© 3x =",a:"3"},{q:"Ù…Ø´ØªÙ‚Ø© sin(x) =",a:"cos(x)"},{q:"Ù…Ø´ØªÙ‚Ø© cos(x) =",a:"-sin(x)"},{q:"Ù…Ø´ØªÙ‚Ø© xÂ³ =",a:"3xÂ²"}];
      const q=questions[rng(0,questions.length-1)];
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text"><strong>${q.q}</strong></div><div class="input-answer"><input id="ans" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if($('#ans').value.replace(/\s/g,"")===q.a){correct();}nextQ();};
    }
    // ØªÙƒØ§Ù…Ù„
    function genIntegration(nextQ){const questions=[{q:"âˆ« x dx =",a:"0.5xÂ² + C"},{q:"âˆ« cos(x) dx =",a:"sin(x)+C"},{q:"âˆ« 2x dx =",a:"xÂ² + C"},{q:"âˆ« 1 dx =",a:"x + C"}];
      const q=questions[rng(0,questions.length-1)];
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text"><strong>${q.q}</strong></div><div class="input-answer"><input id="ans" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if($('#ans').value.replace(/\s/g,"")===q.a.replace(/\s/g,"")){correct();}nextQ();};
    }
    // Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª
    function genProbability(nextQ){const questions=[{q:"Ø§Ø­ØªÙ…Ø§Ù„ Ø¸Ù‡ÙˆØ± 6 ÙÙŠ Ø±Ù…ÙŠØ© Ù†Ø±Ø¯ ÙˆØ§Ø­Ø¯Ø© =",a:"1/6"},{q:"Ø§Ø­ØªÙ…Ø§Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ÙŠ ÙÙŠ Ù†Ø±Ø¯ =",a:"1/2"},{q:"Ø§Ø­ØªÙ…Ø§Ù„ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ù…Ù„Ùƒ Ù…Ù† ÙˆØ±Ù‚ Ø§Ù„Ù„Ø¹Ø¨ =",a:"4/52"}];const q=questions[rng(0,questions.length-1)];
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text">${q.q}</div><div class="input-answer"><input id="ans" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if($('#ans').value===q.a){correct();}nextQ();};
    }
    // Ù…Ø«Ù„Ø«Ø§Øª
    function genTrigonometry(nextQ){const questions=[{q:"Ù‚ÙŠÙ…Ø© sin(90Â°) =",a:"1"},{q:"Ù‚ÙŠÙ…Ø© cos(0Â°) =",a:"1"},{q:"Ù‚ÙŠÙ…Ø© tan(45Â°) =",a:"1"}];const q=questions[rng(0,questions.length-1)];
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text">${q.q}</div><div class="input-answer"><input id="ans"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if($('#ans').value===q.a){correct();}nextQ();};
    }
    // Ø¥Ø­ØµØ§Ø¡
    function genStatistics(nextQ){const questions=[{q:"Ø§Ù„Ù…ØªÙˆØ³Ø· Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠ Ù„Ù„Ø£Ø¹Ø¯Ø§Ø¯ 2,4,6 =",a:"4"},{q:"Ø§Ù„ÙˆØ³ÙŠØ· Ù„Ù„Ù‚ÙŠÙ… 1,3,5 =",a:"3"},{q:"Ø§Ù„Ù…Ù†ÙˆØ§Ù„ Ù„Ù„Ù‚ÙŠÙ… 2,2,3,4 =",a:"2"}];const q=questions[rng(0,questions.length-1)];
      $('#game-area').innerHTML=`<div class="question-box"><div class="question-text">${q.q}</div><div class="input-answer"><input id="ans"><button id="check">ØªØ­Ù‚Ù‚</button></div></div>`;
      $('#check').onclick=()=>{if($('#ans').value===q.a){correct();}nextQ();};
    }

    // Ù…Ø§Ø±Ø§Ø«ÙˆÙ†
    function genMarathon(nextQ){const types=["algebra","geometry","calculus","integration","probability","trigonometry","statistics"];state.game=types[rng(0,types.length-1)];nextQuestion();}

    function nextQuestion(){const nextQ=()=>nextQuestion();startTimer(nextQ);
      if(state.game==="algebra")genAlgebra(nextQ);
      if(state.game==="geometry")genGeometry(nextQ);
      if(state.game==="calculus")genCalculus(nextQ);
      if(state.game==="integration")genIntegration(nextQ);
      if(state.game==="probability")genProbability(nextQ);
      if(state.game==="trigonometry")genTrigonometry(nextQ);
      if(state.game==="statistics")genStatistics(nextQ);
      if(state.game==="marathon")genMarathon(nextQ);
    }
    function startGame(game){if(!state.level){alert("Ø§Ø®ØªØ± Ù…Ø³ØªÙˆÙ‰ Ø£ÙˆÙ„Ø§Ù‹");return;}state.game=game;state.points=0;$('#points').textContent=0;$('#level').textContent=state.level;$('#game-modal').classList.add('open');nextQuestion();}
    $$('.game-card').forEach(c=>c.onclick=()=>startGame(c.dataset.game));
    $('#close-modal').onclick=()=>{$('#game-modal').classList.remove('open');clearInterval(state.timer);}
    document.querySelector('.hamburger').onclick=()=>$('#nav-menu').classList.toggle('active');
  </script>
</body>
</html>
